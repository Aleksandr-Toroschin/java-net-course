Мне показалось, что написать с нуля легче, чем переносить чат.
Но некоторые класссы буду брать из чата.